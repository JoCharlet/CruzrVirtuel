<html>

<head>
  <title>Virtual Cruzr</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">

  <style>
    html,
    body {
      height: 100%;
      width: 100%;
      padding-right: 10px;
    }

    .cntnt {
      padding-top: 25px;
    }
  </style>
</head>

<body>
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-2 cntnt" id="menuEvents">
        <h2>Menu d'action</h2>
        <br />
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon1">@</span>
          </div>
          <input id="userId" type="text" class="form-control" placeholder="Nom d'utilisateur" aria-label="Username" aria-describedby="basic-addon1">
        </div>
        <button onclick="authToggle()" id="authBtn" type="button" class="btn btn-primary">Statut : inconnu</button><br /><br />
        <hr /><br />
        <button onclick="sendEvnt('USER4M')" type="button" class="btn btn-outline-primary">Détection mouvement porte principale</button> <br /><br />
        <button onclick="sendEvnt('USER2M')" type="button" class="btn btn-outline-primary">Détection présence proche</button> <br /><br />
        <button onclick="sendEvnt('SortieBureauTechnique')" type="button" class="btn btn-outline-primary">Détection mouvement gauche (sortie guichet technique)</button> <br /><br />
        <button onclick="sendEvnt('SortieBureau')" type="button" class="btn btn-outline-primary">Détection mouvement droite (sortie bureau)</button> <br /><br />
        <button onclick="sendEvnt('Temperature')" type="button" class="btn btn-outline-primary">Détection température trop élevée</button><br /><br />
        <!-- <hr /><br /><br /> -->
        <button style="display:none" id="btnQR1" onclick="sendEvnt('QRCodeOK')" type="button" class="btn btn-outline-success screenDisplay">Présenter un QRCode valide</button><br />
        <button style="display:none" id="btnQR2" onclick="sendEvnt('QRCodeKO')" type="button" class="btn btn-outline-danger screenDisplay">Présenter un QRCode non valide</button><br /><br />
        <hr /><br /><br />

        <!-- Button trigger modal -->
        <button type="button" class="btn btn-info" data-toggle="modal" data-target="#modalInfo" style="margin-left:20px;">
          Manuel d'instruction
        </button>
        <br /><br />
        <button type="button" class="btn btn-info" data-toggle="modal" data-target="#modalScenario" style="margin-left:20px;">
          Lite des scénarios
        </button>
        <br /><br />
        <button onclick="window.open('https://fr.surveymonkey.com/r/XTYZX8D')" type="button" class="btn btn-info" style="margin-left:20px;">
          Questionnaire évaluation USUS
        </button>
      </div>

      <div class="col-sm-7 cntnt">
        <h2>Écran</h2>
        <br />
        <div id="screen" class="col-sm-12" style="background-color:#000000; width:100%; padding-top:20px; padding-bottom:20px">

          <img class="screenDisplay" id="ScreenVisageRbtNeutre" src="img/Visage_neutre.png" width="100%" style="display:block" />
          <img class="screenDisplay" id="ScreenVisageRbtFrustre" src="img/Visage_frustre.png" width="100%" style="display:none" />
          <img class="screenDisplay" id="ScreenVisageRbtContent" src="img/Visage_content.png" width="100%" style="display:none" />
          <img class="screenDisplay" id="ScreenQuestionnaireQR" src="img/questionnaire.png" width="100%" style="display:none" />

          <img onclick="interact('Veuillez compléter les informations concernant les réservations de salles','reservationSalle2')" class="screenDisplay" id="screenInteractSalle1" src="img/selectionSalle.png" width="100%"
            style="display:none; cursor: pointer;" />
          <img onclick="interact('C est noté, votre salle est réservée','reservationOK')" class="screenDisplay" id="screenInteractSalle2" src="img/reservation_Salle.png" width="100%" style="display:none; cursor: pointer;" />

          <img onclick="interact('C est envoyé','emailOK')" class="screenDisplay" id="screenInteractEmail" src="img/nouveauMessage.png" width="100%" style="display:none; cursor: pointer;" />

          <img onclick="interact('et voilà c est réservé','restauOK')" class="screenDisplay" id="screenInteractRestaurantReservation" src="img/reservationRestau.png" width="100%" style="display:none; cursor: pointer;" />

          <img onclick="interact('Je reste à ta disposition si tu as besoins de plus d information','infoTransportOK')" class="screenDisplay" id="screenInteractTrain" src="img/horaireCFF.png" width="100%" style="display:none; cursor: pointer;" />
          <img onclick="interact('Je reste à ta disposition si tu as besoins de plus d information','infoTransportOK')" class="screenDisplay" id="screenInteractBus" src="img/TL.png" width="100%" style="display:none; cursor: pointer;" />
          <img onclick="interact('Je reste à ta disposition si tu as besoins de plus d information','infoTransportOK')" class="screenDisplay" id="screenInteractVoiture" src="img/etatRoute.png" width="100%" style="display:none; cursor: pointer;" />

          <div class="screenDisplay" id="ScreenCodeQR" style="display:none">
            <img onclick="sendEvnt('QRCodeOK')" src="img/QRCode.jpg" width="100%" style=" cursor: pointer;" />
            <button onclick="sendEvnt('PASQRCode')" type="button" class="btn btn-warning" style="position: absolute;right: 20px; bottom: 50px;">J'ai oublié mon code QR</button>
          </div>

          <img class="screenDisplay" id="presLausanne0" src="img/Lausanne/Lausanne0.jpg" width="100%" style="display:none" />

          <img class="screenDisplay" id="presSOI0" src="img/SOI/Diapositive0.JPG" width="100%" style="display:none" />
          <img class="screenDisplay" id="presSOI1" src="img/SOI/Diapositive1.JPG" width="100%" style="display:none" />
          <img class="screenDisplay" id="presSOI2" src="img/SOI/Diapositive2.JPG" width="100%" style="display:none" />
          <img class="screenDisplay" id="presSOI3" src="img/SOI/Diapositive3.JPG" width="100%" style="display:none" />
          <img class="screenDisplay" id="presSOI4" src="img/SOI/Diapositive4.JPG" width="100%" style="display:none" />
          <img class="screenDisplay" id="presSOI5" src="img/SOI/Diapositive5.JPG" width="100%" style="display:none" />

          <img class="screenDisplay" id="event1" src="img/events/event1.jpg" width="100%" style="display:none" />
          <img class="screenDisplay" id="event2" src="img/events/event2.jpg" width="100%" style="display:none" />
          <img class="screenDisplay" id="event3" src="img/events/event3.jpg" width="100%" style="display:none" />
          <img class="screenDisplay" id="event4" src="img/events/event4.jpg" width="100%" style="display:none" />
          <img class="screenDisplay" id="event5" src="img/events/event5.jpg" width="100%" style="display:none" />
          <img class="screenDisplay" id="event6" src="img/events/event6.jpg" width="100%" style="display:none" />
          <img class="screenDisplay" id="event7" src="img/events/event7.jpg" width="100%" style="display:none" />

          <!-- screenInteract menu inconnu-->
          <div class="screenDisplay" id="screenInteract1" style="display:none">
            <div class="row">

              <div class="col-md-3" onclick="sendEvnt('StartRDV')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">J'ai rendez-vous</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('situeGuichet')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">J'ai une livraison</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('AccueilHumain')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">J'aimerai être accueilli par un humain</h5>
                  </div>
                </div>
              </div>

            </div>
            <br />
            <div class="row">

              <div class="col-md-3" onclick="sendEvnt('PrensentationSOIStart')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Présentation SOI</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('PrensentationLausanneStart')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Présentation ville de Lausanne</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('PrensentationEventStart')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Présenter événement Lausanne</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('menu')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">HELP</h5>
                  </div>
                </div>
              </div>

            </div>
          </div>
          <!-- fin screenInteract menu inconnu-->

          <!-- screenInteractChoixHote menu liste personne-->
          <div class="screenDisplay" id="screenInteract2" style="display:none">
            <div class="row">

              <div class="col-md-3" onclick="sendEvnt('QRCodeOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image1.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">IT - Lucille Beuchat</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('QRCodeOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image2.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">IS - Catherine Müller</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('QRCodeOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image3.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Réseau - Nathalia Sanchez</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('QRCodeOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image4.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Securité - Didier Kas</h5>
                  </div>
                </div>
              </div>

            </div>
            <br />
            <div class="row">

              <div class="col-md-3" onclick="sendEvnt('QRCodeOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image5.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">RH - Béatrice Ombre</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('QRCodeOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image6.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Direction - Vincent Nguyen</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('QRCodeOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image7.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Dev - Lucien Canoso</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('QRCodeOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image8.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Impression - Marjolaine Rochat</h5>
                  </div>
                </div>
              </div>

            </div>
          </div>
          <!-- fin screenInteract menu liste personne-->


          <!-- screenInteractChoixHote menu liste personne pour presence-->
          <div class="screenDisplay" id="screenInteract7" style="display:none">
            <div class="row">

              <div class="col-md-3" onclick="interact('Cette personne est absente aujourdhui','prensenceOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image1.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">IT - Lucille Beuchat</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="interact('Cette personne est présente aujourdhui','prensenceOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image2.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">IS - Catherine Müller</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="interact('Cette personne est présente aujourdhui','prensenceOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image3.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Réseau - Nathalia Sanchez</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="interact('Cette personne est absente aujourdhui','prensenceOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image4.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Securité - Didier Kas</h5>
                  </div>
                </div>
              </div>

            </div>
            <br />
            <div class="row">

              <div class="col-md-3" onclick="interact('Cette personne est absente aujourdhui','prensenceOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image5.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">RH - Béatrice Ombre</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="interact('Cette personne est présente aujourdhui','prensenceOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image6.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Direction - Vincent Nguyen</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="interact('Cette personne est présente aujourdhui','prensenceOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image7.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Dev - Lucien Canoso</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="interact('Cette personne est absente aujourdhui','prensenceOK')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/personnes/image8.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Impression - Marjolaine Rochat</h5>
                  </div>
                </div>
              </div>

            </div>
          </div>
          <!-- fin screenInteract menu liste personne pour presence-->


          <!-- screenInteract menu inconnu-->
          <div class="screenDisplay" id="screenInteract4" style="display:none">
            <div class="row">

              <div class="col-md-3" onclick="sendEvnt('NouveauRDVStart')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Notifier nouveau rendez-vous</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('StartVisiteBureau')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Faire une visite</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('OuvrirPorteStart')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Ouvrir une porte</h5>
                  </div>
                </div>
              </div>


              <div class="col-md-3" onclick="sendEvnt('ReservationStart')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Réserver une salle</h5>
                  </div>
                </div>
              </div>

            </div>
            <br />
            <div class="row">

              <div class="col-md-3" onclick="sendEvnt('envoyerMessage')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Envoyer message</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('presence')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Suivi présence</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('ListeTransports')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Information transport</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('listeRestaurants')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Restaurants</h5>
                  </div>
                </div>
              </div>

            </div>
          </div>
          <!-- fin screenInteract menu inconnu-->

          <!-- screenInteractRestaurant-->
          <div class="screenDisplay" id="screenInteractRestaurant" style="display:none">
            <div class="row">

              <div class="col-md-3 offset-md-1" onclick="sendEvnt('RestauItalien')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Restaurants italien</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('RestauChinois')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Restaurant chinois</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('RestauIndien')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Restaurants indien</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- fin screenInteractRestaurant-->
          <!-- screenInteractRestaurantItalien-->
          <div class="screenDisplay" id="screenInteractRestaurantItalien" style="display:none">
            <div class="row">

              <div class="col-md-3 offset-md-1" onclick="sendEvnt('reseverRestau')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Antica Trattoria</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('reseverRestau')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Restaurant Italien Ulivo</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('reseverRestau')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Osteria Balsamico</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- fin screenInteractRestaurant-->
          <!-- screenInteractRestaurantIndien-->
          <div class="screenDisplay" id="screenInteractRestaurantIndien" style="display:none">
            <div class="row">
              <div class="col-md-3 offset-md-1" onclick="sendEvnt('reseverRestau')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Nandanam</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('reseverRestau')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Laxmi</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('reseverRestau')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">New Dehli</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- fin screenInteractRestaurantIdien-->
          <!-- screenInteractRestaurantChinois-->
          <div class="screenDisplay" id="screenInteractRestaurantChinois" style="display:none">
            <div class="row">

              <div class="col-md-3 offset-md-1" onclick="sendEvnt('reseverRestau')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Dong Fang</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('reseverRestau')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Aux trois-bonheurs</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('reseverRestau')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Au canard Pékinois</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- fin screenInteractRestaurant-->

          <!-- ScreenListeTransport-->
          <div class="screenDisplay" id="ScreenListeTransport" style="display:none">
            <div class="row">

              <div class="col-md-3 offset-md-1" onclick="sendEvnt('bus')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Info horaires bus</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('train')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Info horaires train</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('voiture')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Info circulation voiture</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- fin ScreenListeTransport-->


          <!-- screenInteract Event Lausanne-->
          <div class="screenDisplay" id="screenInteract5" style="display:none">
            <div class="row">

              <div class="col-md-3" onclick="sendEvnt('event1')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/events/image1.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Lausanne à sur mer</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('event2')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/events/image2.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Lausanne à pied</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('event3')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/events/image3.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Théâtre-fantôme pour 1 personne</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('event4')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/events/image4.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Cirque du Soleil – CRYSTAL</h5>
                  </div>
                </div>
              </div>

            </div>
            <br />
            <div class="row">

              <div class="col-md-3" onclick="sendEvnt('event5')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/events/image5.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Equissima</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('event6')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/events/image6.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Lausanne à table</h5>
                  </div>
                </div>
              </div>

              <div class="col-md-3" onclick="sendEvnt('event7')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/events/image7.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:0%; text-align:center; padding:10px">Lucioles dans la nuit</h5>
                  </div>
                </div>
              </div>

            </div>
          </div>
          <!-- fin screenInteract Satisfaction-->


          <!-- screenInteract Satisfaction-->
          <div class="screenDisplay" id="screenInteract3" style="display:none">
            <div class="row">

              <div class="col-md-2  offset-md-1" onclick="sendEvnt('remercier')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/evaluation/1.jpg" class="card-img" />
                </div>
              </div>

              <div class="col-md-2" onclick="sendEvnt('remercier')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/evaluation/2.jpg" class="card-img" />
                </div>
              </div>

              <div class="col-md-2" onclick="sendEvnt('remercier')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/evaluation/3.jpg" class="card-img" />
                </div>
              </div>

              <div class="col-md-2" onclick="sendEvnt('remercier')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/evaluation/4.jpg" class="card-img" />
                </div>
              </div>

              <div class="col-md-2" onclick="sendEvnt('remercier')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/evaluation/5.jpg" class="card-img" />
                </div>
              </div>

            </div>
          </div>
          <!-- fin screenInteract Satisfaction-->

          <!-- screenInteract Porte-->
          <div class="screenDisplay" id="screenInteractPorte" style="display:none">
            <div class="row">
              <div class="col-md-3  offset-md-3" onclick="sendEvnt('OuvrirPorteGauche')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Porte de gauche</h5>
                  </div>
                </div>
              </div>
              <div class="col-md-3" onclick="sendEvnt('OuvrirPorteDroite')" style="cursor: pointer;">
                <div class="card bg-dark text-white">
                  <img src="img/icone_cruzr.jpg" class="card-img" />
                  <div class="card-img-overlay">
                    <h5 class="card-title" style="background-color:rgba(0, 0, 0, 0.5); margin-top:40%; text-align:center; padding:10px">Porte de droite</h5>
                  </div>
                </div>
              </div>

            </div>
          </div>
          <!-- fin screenInteract Porte-->

          <!-- screen nouveau visiteur -->
          <div class="screenDisplay" id="screenInteract6" style="display:none; background-color:#FFFFFF; padding:20px">
            <div class="row">
              <div class="col-md-12">
                <form>
                  <div class="form-row">
                    <div class="form-group col-md-6">
                      <label for="inputNom">Nom</label>
                      <input type="text" class="form-control" id="inputNom" placeholder="Nom">
                    </div>
                    <div class="form-group col-md-6">
                      <label for="inputPrenom">Prénom</label>
                      <input type="text" class="form-control" id="inputPrenom" placeholder="Prénom">
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="inputAddress">Email du visiteur</label>
                      <input type="email" class="form-control" id="inputEmail4" placeholder="Email">
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group col-md-6">
                      <label for="inputDate">Date de la visite</label>
                      <input type="date" id="inputDate" name="date">
                    </div>
                  </div>
                </form>
                <button onClick="actionEnvoyer()" class="btn btn-primary">Enregistrer</button>
              </div>
            </div>
          </div>
          <!-- Fin screen nouveau visiteur-->
        </div>
        <br />
        <br />
        <h2>Scenario en cours :</h2>
        <h5>Situation</h5>
        <p id="descScenario" style="font-size:21px;">
          Utilisation libre
        </p>
        <h5>Résultat espéré</h5>
        <p id="descRes" style="font-size:21px;">
          Parcourez librement les fonctionnalités de la plateforme de simulation du Cruzr Virtuel
        </p>
      </div>

      <div class="col-sm-3 cntnt" id="chat">
        <h2>Dialogue</h2>
        <br />
        <div class="row">
          <div id="cibleChat" class="col-sm-12" style="padding-bottom:20px; margin-bottom: 20px; max-height:800px;  overflow-y: scroll; background-color:#eee">

            <!--
              <div class="media" style="background-color:#ffacb7;">
                <img src="img/icone_cruzr.jpg" width="75px;" class="rounded-circle mr-3" alt="icone_cruzr">
                <div class="media-body">
                  <h5 class="mt-0"><b>Humain connu</b></h5>
                  <p>
                    Fais moi le café :)
                  </p>
                </div>
              </div>
            -->

          </div>
          <br /><br />
          <div class="input-group mb-3">
            <input id="inputMsg" type="text" class="form-control" placeholder="Votre message au robot" aria-label="Recipient's username" aria-describedby="button-addon2">
            <div class="input-group-append">
              <button onclick="createMessageUser()" class="btn btn-outline-secondary" type="button" id="button-addon2">Send</button>
            </div>
          </div>

          <button id="start-record-btn" type="button" class="btn btn-warning">Parler</button> &nbsp; &nbsp;
          <button id="pause-record-btn" type="button" class="btn btn-danger">Stop enregistrer voix</button>
        </div>

      </div>

      <!-- Modal -->
      <div class="modal fade" id="modalInfo" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered  modal-xl" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalCenterTitle">Virtual Cruzr - SOI Ville de Lausanne</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <h1>Bienvenue sur la plateforme de simulation du robot humanoïde Cruzr</h1>
              <p>
                Cette plateforme de simulation est découpée en 3 zones distinctes
              </p>
              <ul>
                <li>
                  la première zone, sur la gauche, permet de simuler une interaction physique avec le robot en fonction de ses capteures
                </li>
                <li>
                  la deuxième zone, au centre de la page, affiche l'écran du robot qui peut être un affichage de ses yeux ou des écrans d'interaction
                </li>
                <li>
                  la troisième zone, sur la droite, permet de dialoguer avec le robot sous la forme écrite ou vocale.
                </li>
              </ul>
              <p>
                Afin d'utiliser les fonctionnalités de reconnaissances vocales et retour audio de la part du robot, veuillez utiliser Google Chrome
              </p>
              <div class="alert alert-danger" role="alert">
                Afin d'assurer un bon fonctionnement pour tous, veuillez spécifier un nom d'utilisateur distinct dans le champ prévu à cet effet en haut à gauche de la page et veuillez réutiliser le même à chaque utilisation!
              </div>
              <p>
                Pour changer de statut entre un utilisateur authentifié (Collaborateur du SOI) et un inconnu (visiteur), veuiler utiliser le bouton prévu à cet effet en haut à gauche de la page
              </p>
              <p class="font-weight-bolder">
                Une fois que vous aurez testé plusieurs scénarios, veuillez remplir le questionnaire d'évaluation USUS accessible avec le bouton "Questionnaire évaluation USUS"
              </p>
              <br />
              <hr />
              <br />
              <p>
                Je vous remercie d'avance pour votre participation qui sera une aide précieuse à la réalisation de mon Travail de Master. Si vous avez des questions ou que vous désirez avoir plus de renseignement sur ce projet, vous pouvez me
                contacter à l'adresse email
                suivante: <a href:"mailto:jonathan.charlet@master.hes-so.ch">jonathan.charlet@master.hes-so.ch</a>
              </p>
              <p class="font-italic">Jonathan Charlet</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="sendEvnt('USER4M')">Fermer</button>
            </div>
          </div>
        </div>
      </div>


      <!-- Modal Scénario -->
      <div class="modal fade" id="modalScenario" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered  modal-xl" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalCenterTitle">Virtual Cruzr - SOI Ville de Lausanne - Scénarios</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <h1>Liste des scénarios:</h1>
              <ul>
                <li>
                  <b>Rendez-vous</b> Vous avez rendez-vous avec Mme Béatrice Ombre des RH. Vous avez reçu avec votre confirmation de visite un code QR à utiliser pour procéder à votre accueil.
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(1)">Start</button>
                </li>
                <li>
                  <b>Rendez-vous, Code QR perdu</b> Vous avez rendez-vous avec M. Lucien Canoso. Vous avez reçu avec votre confirmation de visite un code QR à utiliser pour procéder à votre accueil mais vous avez malheureusement perdu ce document.
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(2)">Start</button>
                </li>
                <li>
                  <b>Visite sans rendez-vous</b> Vous avez n’avez pas de rendez-vous mais vous aimeriez annoncer votre venue pour un contrôle des chauffages
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(3)">Start</button>
                </li>
                <li>
                  <b>Vous n’aimez pas les robots</b> Vous n’appréciez pas les robots et vous voulez être pris en charge par une personne réelle
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(4)">Start</button>
                </li>
                <li>
                  <b>Livraison</b> Vous devez effectuer une livraison au guichet du service technique
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(5)">Start</button>
                </li>
                <li>
                  <b>Enquête de satisfaction</b> Vous venez d’effectuer une livraison au guichet du service technique et vous sortez. Cliquez sur le bouton « Capteur, sortie guichet technique »
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(6)">Start</button>
                </li>
                <li>
                  <b>Malade</b> Vous avez rendez-vous mais vous vous sentez un peu fiévreux. Cliquez sur le bouton « Capteur, température »
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(7)">Start</button>
                </li>
                <li>
                  <b>Occupation</b> Vous êtes arrivé en avance pour un rendez-vous, vous avez du temps à perdre et êtes curieux d’en savoir plus sur la ville de Lausanne et le SOI
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(8)">Start</button>
                </li>
                <li>
                  <b>Nouveau rendez-vous</b> Vous avez planifié un rendez-vous avec Jonathan Charlet et vous devez lui envoyer la feuille de visite contenant le code QR pour qu’il puisse procéder à son accueil
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(9)">Start</button>
                </li>
                <li>
                  <b>Découvrir SOI</b> Un nouveau collaborateur a été engagé, vous voulez laisser le soin au robot de lui faire une visite des bureaux
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(10)">Start</button>
                </li>
                <li>
                  <b>Oubli de badge</b> Vous avez oublié votre badge et vous devez accéder à votre bureau.
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(11)">Start</button>
                </li>
                <li>
                  <b>Chercher une salle de réunion</b> Vous cherchez une salle de réunion à occuper pour la prochaine heure
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(12)">Start</button>
                </li>
                <li>
                  <b>Envoyer un message</b> Vous avez éteint votre ordinateur, mais sur le pas de la porte vous vous souvenez qu’il fallait que vous préveniez Marjolaine Rochat que les toners d’impressions étaient bientôt vides. Vous souhaitez lui
                  laisser un message ce soir encore.
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(13)">Start</button>
                </li>
                <li>
                  <b>Présence</b> Vous devez aller diner avec Didier Kas mais vous ne l’avez pas vu de la matinée. Vous vous demandez s’il est absent ou présent aujourd’hui
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(14)">Start</button>
                </li>
                <li>
                  <b>CFF</b> Vous devez prendre le train pour Yverdon afin de visiter la société Avatarion Technology. Vous aimeriez connaitre les horaires de train pour aller à Yverdon-les-Bains
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(15)">Start</button>
                </li>
                <li>
                  <b>Info trafic</b> Il est vendredi après-midi 16h et vous avez envie de profiter du weekend à votre chalet pour vous relaxer. Vous ne voulez pas vous énerver dans les bouchons et vous aimeriez connaitre l’état de la route avant
                  partir
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(16)">Start</button>
                </li>
                <li>
                  <b>Pizza</b> Il est midi et vous avez une envie de pizza, avec quelques collègues que vous retrouvez à l’accueil vous aimeriez faire une réservation à un restaurant pour vous assurer une table
                  <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="goScenario(18)">Start</button>
                </li>
              </ul>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="sendEvnt('USER4M')">Fermer</button>
            </div>
          </div>
        </div>
      </div>

    </div>
    <script src="js/flowai-js.min.js"></script>
    <script type="text/javascript">
      var authStatus = "inconnu";

      const client = new Flowai.LiveClient({
        clientId: 'YTgxNTNmM2QtOTA3Zi00YTAyLWJmMDgtNTMzM2ViMTRhYjM5fDRiYzRlYmFjLTc1ODEtNDQxMy04ZWMwLWFiMDc1NmRkMjNmZA==',

      });

      var originator = new Flowai.Originator({
        name: "Inconnu",
        profile: {
          firstName: "inconnu"
        }
      });

      function init() {
        var {
          LiveClient,
          Message,
          Originator
        } = Flowai;
        client.on(LiveClient.RECONNECTING, () => console.info("Reconnecting"));
        client.on(LiveClient.ERROR, err => console.error(err));
        client.on(LiveClient.CONNECTED, function() {

        });

        client.on(LiveClient.REPLY_RECEIVED, reply => {
          console.log('--> Received a reply', reply, reply.messages[0])
          console.log(reply.messages[0].fallback);
          var obj = JSON.parse(reply.messages[0].fallback);
          // console.log(reply.messages[0].fallback);
          // console.log(reply.messages[0].intents[0]);
          //  console.log( '--> intent ',obj.intent);
          // console.log(obj.message);
          interact(obj.message, obj.intent);
        });


        client.on(LiveClient.MESSAGE_SEND, message => {
          //		console.log('--> The client is sending a message', message)
        });

        client.on(LiveClient.MESSAGE_DELIVERED, message => {
          console.log('--> Delivered a message we just sent', message)
        });

        client.on(LiveClient.RECONNECTING, () => {
          console.log('--> Trying to reconnect')
        });

        client.on(LiveClient.ERROR, err => {
          console.log('--> Error while doing stuff', err)
        });

        client.on(LiveClient.CHECKED_UNNOTICED_MESSAGES, result => {
          console.log('--> Checked unnoticed messages', result)
        });

        client.start();
      }

      function sendEvnt(evnt) {
        var {
          LiveClient,
          Message
        } = Flowai;
        var originator = new Flowai.Originator({
          name: "Inconnu",
          profile: {
            firstName: "inconnu"
          }
        });

        var message = new Flowai.Message({
          threadId: document.getElementById("userId").value,
          traceId: 1,
          //    speech: "Bonjour",
          attachment: new Flowai.EventAttachment(evnt),
          originator
        });
        client.send(message);
      }

      function sendEvnt2(evnt) {
        var {
          LiveClient,
          Message
        } = Flowai;
        var originator = new Flowai.Originator({
          name: "Auth",
          profile: {
            firstName: "Auth"
          }
        });

        var message = new Flowai.Message({
          threadId: document.getElementById("userId").value,
          traceId: 1,
          //    speech: "Bonjour",
          attachment: new Flowai.EventAttachment(evnt),
          metadata: {
            params: {
              statut: 'Auth'
            }
          },
          originator
        });
        client.send(message);
      }

      function sendMsg(msg) {
        var {
          LiveClient,
          Message
        } = Flowai;
        var message = new Flowai.Message({
          threadId: document.getElementById("userId").value,
          traceId: 1,
          speech: msg,
          originator
        });
        client.send(message);
      }

      function createMessageRobot(text) {
        var htmlOut =
          '<div class="media" style="background-color:#6886c5; padding-left:10px; padding-top:10px;"><img src="img/icone_cruzr.jpg" width="75px;" class="rounded-circle mr-3" alt="icone_cruzr"><div class="media-body"><h5 class="mt-0"><b>Robot Cruzr</b></h5><p style="padding-right:10px">';
        htmlOut = htmlOut + text;
        htmlOut = htmlOut + '</p></div></div>';
        $("#cibleChat").append(htmlOut);
        var element = document.getElementById("cibleChat");
        element.scrollTop = element.scrollHeight;
      }

      function createMessageUser() {
        var text = document.getElementById("inputMsg").value;
        var htmlOut = '<div class="media" style="background-color:#ffe0ac; padding-left:10px; padding-top:10px;"><div class="media-body"><h5 style="text-align:right;" class="mt-0"><b>Visiteur</b></h5><p style="text-align:right; padding-right:10px">';
        htmlOut = htmlOut + text;
        htmlOut = htmlOut + '</p></div><img src="img/icone_user_inconnu.jpg" width="75px;" class="rounded-circle mr-3" alt="icone_user_inconnu" /></div>';
        $("#cibleChat").append(htmlOut);
        document.getElementById("inputMsg").value = "";
        sendMsg(text);
        var element = document.getElementById("cibleChat");
        element.scrollTop = element.scrollHeight;
      }

      function createMessageVoiceUser(speech) {
        var text = speech;
        var htmlOut = '<div class="media" style="background-color:#ffe0ac; padding-left:10px; padding-top:10px;"><div class="media-body"><h5 style="text-align:right;" class="mt-0"><b>Visiteur</b></h5><p style="text-align:right; padding-right:10px">';
        htmlOut = htmlOut + text;
        htmlOut = htmlOut + '</p></div><img src="img/icone_user_inconnu.jpg" width="75px;" class="rounded-circle mr-3" alt="icone_user_inconnu" /></div>';
        $("#cibleChat").append(htmlOut);
        document.getElementById("inputMsg").value = "";
        sendMsg(text);
        var element = document.getElementById("cibleChat");
        element.scrollTop = element.scrollHeight;
      }


      init();

      function authToggle() {
        if (authStatus == "inconnu") {
          authStatus = "authentifie";
          document.getElementById("authBtn").className = "btn btn-success";
          document.getElementById("authBtn").innerHTML = "Statut : authentifié";

        } else {
          authStatus = "inconnu";
          document.getElementById("authBtn").className = "btn btn-primary";
          document.getElementById("authBtn").innerHTML = "Statut : inconnu";
        }
      }

      function authInconnu() {
        authStatus = "inconnu";
        document.getElementById("authBtn").className = "btn btn-primary";
        document.getElementById("authBtn").innerHTML = "Statut : inconnu";
      }

      function authAuth() {
        authStatus = "authentifie";
        document.getElementById("authBtn").className = "btn btn-success";
        document.getElementById("authBtn").innerHTML = "Statut : authentifié";
      }
    </script>
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/speech.js"></script>
    <script src="js/interaction.js"></script>
    <script>
      $("#inputMsg").on('keypress', function(e) {
        if (e.which == 13) {
          createMessageUser();
        }
      });
      //document.getElementById("userId").value=Math.floor(Math.random() * 10000000);
      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);
      const scenarioNumber = urlParams.get('s')
      if (scenarioNumber == 1) {
        authInconnu();
        document.getElementById('descScenario').innerHTML = "Vous avez rendez-vous avec Mme Béatrice Ombre des RH. Vous avez reçu avec votre confirmation de visite un code QR à utiliser pour procéder à votre accueil.";
        document.getElementById('descRes').innerHTML = "Mme Béatrice ombre est avertie de votre arrivée et arrive pour vous prendre en charge";
      } else if (scenarioNumber == 2) {
        authInconnu();
        document.getElementById('descScenario').innerHTML =
          "Vous avez rendez-vous avec M. Lucien Canoso. Vous avez reçu avec votre confirmation de visite un code QR à utiliser pour procéder à votre accueil mais vous avez malheureusement perdu ce document.";
        document.getElementById('descRes').innerHTML = "M. Lucien Canoso est averti de votre arrivée et arrive pour vous prendre en charge";
      } else if (scenarioNumber == 3) {
        authInconnu();
        document.getElementById('descScenario').innerHTML = "Vous avez n’avez pas de rendez-vous mais vous aimeriez annoncer votre venue pour un contrôle des chauffages";
        document.getElementById('descRes').innerHTML = "Être accueilli par quelqu’un";
      } else if (scenarioNumber == 4) {
        authInconnu();
        document.getElementById('descScenario').innerHTML = ": Vous n’appréciez pas les robots et vous voulez être pris en charge par une personne réelle";
        document.getElementById('descRes').innerHTML = "Être accueilli par quelqu’un";
      } else if (scenarioNumber == 5) {
        authInconnu();
        document.getElementById('descScenario').innerHTML = "Vous devez effectuer une livraison au guichet du service technique";
        document.getElementById('descRes').innerHTML = "Savoir où se situe le guichet technique pour faire la livraison";
      } else if (scenarioNumber == 6) {
        authInconnu();
        document.getElementById('descScenario').innerHTML = "Vous venez d’effectuer une livraison au guichet du service technique et vous sortez. Cliquez sur le bouton « Capteur, sortie guichet technique »";
        document.getElementById('descRes').innerHTML = "Participer à l’enquête de satisfaction";
      } else if (scenarioNumber == 7) {
        authInconnu();
        document.getElementById('descScenario').innerHTML = "Vous avez rendez-vous mais vous vous sentez un peu fiévreux. Cliquez sur le bouton « Capteur, température »";
        document.getElementById('descRes').innerHTML = "Alerte, risque sanitaire.";
      } else if (scenarioNumber == 8) {
        authInconnu();
        document.getElementById('descScenario').innerHTML = "Vous êtes arrivé en avance pour un rendez-vous, vous avez du temps à perdre et êtes curieux d’en savoir plus sur la ville de Lausanne et le SOI";
        document.getElementById('descRes').innerHTML = "En savoir plus sur le SOI, la ville de Lausanne et ses événements.";
      } else if (scenarioNumber == 9) {
        authAuth();
        document.getElementById('descScenario').innerHTML = "Vous avez planifié un rendez-vous avec Jonathan Charlet et vous devez lui envoyer la feuille de visite contenant le code QR pour qu’il puisse procéder à son accueil";
        document.getElementById('descRes').innerHTML = "Jonathan Charlet dispose du QR code et de toutes les informations nécessaires pour être accueilli la prochaine fois";
      } else if (scenarioNumber == 10) {
        authAuth();
        document.getElementById('descScenario').innerHTML = "Un nouveau collaborateur a été engagé, vous voulez laisser le soin au robot de lui faire une visite des bureaux";
        document.getElementById('descRes').innerHTML = "Le nouveau collaborateur reçoit une visite des bureaux";
      } else if (scenarioNumber == 11) {
        authAuth();
        document.getElementById('descScenario').innerHTML = ": Vous avez oublié votre badge et vous devez accéder à votre bureau.";
        document.getElementById('descRes').innerHTML = "déverrouiller la porte pour accéder à votre bureau (celle de gauche ou de droite)";
      } else if (scenarioNumber == 12) {
        authAuth();
        document.getElementById('descScenario').innerHTML = " Vous cherchez une salle de réunion à occuper pour la prochaine heure";
        document.getElementById('descRes').innerHTML = "Vous avez trouvé une salle libre et vous l’avez réservée.";
      } else if (scenarioNumber == 13) {
        authAuth();
        document.getElementById('descScenario').innerHTML =
          "Vous avez éteint votre ordinateur, mais sur le pas de la porte vous vous souvenez qu’il fallait que vous préveniez Marjolaine Rochat que les toners d’impressions étaient bientôt vides. Vous souhaitez lui laisser un message ce soir encore.";
        document.getElementById('descRes').innerHTML = "Information transmise à Marjolaine Rochat.";
      } else if (scenarioNumber == 14) {
        authAuth();
        document.getElementById('descScenario').innerHTML = "Vous devez aller diner avec Didier Kas mais vous ne l’avez pas vu de la matinée. Vous vous demandez s’il est absent ou présent aujourd’hui";
        document.getElementById('descRes').innerHTML = "Connaitre la présence de Didier Kas";
      } else if (scenarioNumber == 15) {
        authAuth();
        document.getElementById('descScenario').innerHTML = "Vous devez prendre le train pour Yverdon afin de visiter la société Avatarion Technology. Vous aimeriez connaitre les horaires de train pour aller à Yverdon-les-Bains";
        document.getElementById('descRes').innerHTML = "Connaitre l’horaire du train pour Yverdon-les-Bains";
      } else if (scenarioNumber == 16) {
        authAuth();
        document.getElementById('descScenario').innerHTML =
          "Il est vendredi après-midi 16h et vous avez envie de profiter du weekend à votre chalet pour vous relaxer. Vous ne voulez pas vous énerver dans les bouchons et vous aimeriez connaitre l’état de la route avant partir";
        document.getElementById('descRes').innerHTML = "Connaitre l’état du trafic routier";
      } else if (scenarioNumber == 17) {
        authAuth();
        document.getElementById('descScenario').innerHTML =
          "Il est vendredi après-midi 16h et vous avez envie de profiter du weekend à votre chalet pour vous relaxer. Vous ne voulez pas vous énerver dans les bouchons et vous aimeriez connaitre l’état de la route avant partir";
        document.getElementById('descRes').innerHTML = "Connaitre l’état du trafic routier";
      } else if (scenarioNumber == 18) {
        authAuth();
        document.getElementById('descScenario').innerHTML = "Il est midi et vous avez une envie de pizza, avec quelques collègues que vous retrouvez à l’accueil vous aimeriez faire une réservation à un restaurant pour vous assurer une table";
        document.getElementById('descRes').innerHTML = "Trouver un restaurant italien et faire une réservation ";
      } else {
        console.log();
      }


      $('#modalInfo').modal('show')


      function goScenario(scenarioNumber) {
        if (scenarioNumber == 1) {
          authInconnu();
          document.getElementById('descScenario').innerHTML = "Vous avez rendez-vous avec Mme Béatrice Ombre des RH. Vous avez reçu avec votre confirmation de visite un code QR à utiliser pour procéder à votre accueil.";
          document.getElementById('descRes').innerHTML = "Mme Béatrice ombre est avertie de votre arrivée et arrive pour vous prendre en charge";
        } else if (scenarioNumber == 2) {
          authInconnu();
          document.getElementById('descScenario').innerHTML =
            "Vous avez rendez-vous avec M. Lucien Canoso. Vous avez reçu avec votre confirmation de visite un code QR à utiliser pour procéder à votre accueil mais vous avez malheureusement perdu ce document.";
          document.getElementById('descRes').innerHTML = "M. Lucien Canoso est averti de votre arrivée et arrive pour vous prendre en charge";
        } else if (scenarioNumber == 3) {
          authInconnu();
          document.getElementById('descScenario').innerHTML = "Vous avez n’avez pas de rendez-vous mais vous aimeriez annoncer votre venue pour un contrôle des chauffages";
          document.getElementById('descRes').innerHTML = "Être accueilli par quelqu’un";
        } else if (scenarioNumber == 4) {
          authInconnu();
          document.getElementById('descScenario').innerHTML = ": Vous n’appréciez pas les robots et vous voulez être pris en charge par une personne réelle";
          document.getElementById('descRes').innerHTML = "Être accueilli par quelqu’un";
        } else if (scenarioNumber == 5) {
          authInconnu();
          document.getElementById('descScenario').innerHTML = "Vous devez effectuer une livraison au guichet du service technique";
          document.getElementById('descRes').innerHTML = "Savoir où se situe le guichet technique pour faire la livraison";
        } else if (scenarioNumber == 6) {
          authInconnu();
          document.getElementById('descScenario').innerHTML = "Vous venez d’effectuer une livraison au guichet du service technique et vous sortez. Cliquez sur le bouton « Capteur, sortie guichet technique »";
          document.getElementById('descRes').innerHTML = "Participer à l’enquête de satisfaction";
        } else if (scenarioNumber == 7) {
          authInconnu();
          document.getElementById('descScenario').innerHTML = "Vous avez rendez-vous mais vous vous sentez un peu fiévreux. Cliquez sur le bouton « Capteur, température »";
          document.getElementById('descRes').innerHTML = "Alerte, risque sanitaire.";
        } else if (scenarioNumber == 8) {
          authInconnu();
          document.getElementById('descScenario').innerHTML = "Vous êtes arrivé en avance pour un rendez-vous, vous avez du temps à perdre et êtes curieux d’en savoir plus sur la ville de Lausanne et le SOI";
          document.getElementById('descRes').innerHTML = "En savoir plus sur le SOI, la ville de Lausanne et ses événements.";
        } else if (scenarioNumber == 9) {
          authAuth();
          document.getElementById('descScenario').innerHTML = "Vous avez planifié un rendez-vous avec Jonathan Charlet et vous devez lui envoyer la feuille de visite contenant le code QR pour qu’il puisse procéder à son accueil";
          document.getElementById('descRes').innerHTML = "Jonathan Charlet dispose du QR code et de toutes les informations nécessaires pour être accueilli la prochaine fois";
        } else if (scenarioNumber == 10) {
          authAuth();
          document.getElementById('descScenario').innerHTML = "Un nouveau collaborateur a été engagé, vous voulez laisser le soin au robot de lui faire une visite des bureaux";
          document.getElementById('descRes').innerHTML = "Le nouveau collaborateur reçoit une visite des bureaux";
        } else if (scenarioNumber == 11) {
          authAuth();
          document.getElementById('descScenario').innerHTML = ": Vous avez oublié votre badge et vous devez accéder à votre bureau.";
          document.getElementById('descRes').innerHTML = "déverrouiller la porte pour accéder à votre bureau (celle de gauche ou de droite)";
        } else if (scenarioNumber == 12) {
          authAuth();
          document.getElementById('descScenario').innerHTML = " Vous cherchez une salle de réunion à occuper pour la prochaine heure";
          document.getElementById('descRes').innerHTML = "Vous avez trouvé une salle libre et vous l’avez réservée.";
        } else if (scenarioNumber == 13) {
          authAuth();
          document.getElementById('descScenario').innerHTML =
            "Vous avez éteint votre ordinateur, mais sur le pas de la porte vous vous souvenez qu’il fallait que vous préveniez Marjolaine Rochat que les toners d’impressions étaient bientôt vides. Vous souhaitez lui laisser un message ce soir encore.";
          document.getElementById('descRes').innerHTML = "Information transmise à Marjolaine Rochat.";
        } else if (scenarioNumber == 14) {
          authAuth();
          document.getElementById('descScenario').innerHTML = "Vous devez aller diner avec Didier Kas mais vous ne l’avez pas vu de la matinée. Vous vous demandez s’il est absent ou présent aujourd’hui";
          document.getElementById('descRes').innerHTML = "Connaitre la présence de Didier Kas";
        } else if (scenarioNumber == 15) {
          authAuth();
          document.getElementById('descScenario').innerHTML = "Vous devez prendre le train pour Yverdon afin de visiter la société Avatarion Technology. Vous aimeriez connaitre les horaires de train pour aller à Yverdon-les-Bains";
          document.getElementById('descRes').innerHTML = "Connaitre l’horaire du train pour Yverdon-les-Bains";
        } else if (scenarioNumber == 16) {
          authAuth();
          document.getElementById('descScenario').innerHTML =
            "Il est vendredi après-midi 16h et vous avez envie de profiter du weekend à votre chalet pour vous relaxer. Vous ne voulez pas vous énerver dans les bouchons et vous aimeriez connaitre l’état de la route avant partir";
          document.getElementById('descRes').innerHTML = "Connaitre l’état du trafic routier";
        } else if (scenarioNumber == 17) {
          authAuth();
          document.getElementById('descScenario').innerHTML =
            "Il est vendredi après-midi 16h et vous avez envie de profiter du weekend à votre chalet pour vous relaxer. Vous ne voulez pas vous énerver dans les bouchons et vous aimeriez connaitre l’état de la route avant partir";
          document.getElementById('descRes').innerHTML = "Connaitre l’état du trafic routier";
        } else if (scenarioNumber == 18) {
          authAuth();
          document.getElementById('descScenario').innerHTML = "Il est midi et vous avez une envie de pizza, avec quelques collègues que vous retrouvez à l’accueil vous aimeriez faire une réservation à un restaurant pour vous assurer une table";
          document.getElementById('descRes').innerHTML = "Trouver un restaurant italien et faire une réservation ";
        } else {
          console.log();
        }
      }
    </script>
</body>